@using Podcaster.Models
@model IEnumerable<PodcastEpisodeModel>

@{
    ViewBag.Title = "About";
}

<h2>PlayingPage</h2>
<h3>@ViewBag.PodcastName</h3>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>

    <div>

        <img id="imageJoe" src="https://tastelessgentlemen.com/wp-content/uploads/2015/11/joe-rogan-experience.png" alt="" height="250" width="250" />
        <img id="imageRev" src="http://is1.mzstatic.com/image/thumb/Music/v4/b0/93/7b/b0937bb1-351e-1791-5746-9df1e49b929d/source/600x600bb.jpg" alt="" height="250" width="250" />

        @*för att lägga kod till kontroller under knapp och liknande   onclick="location.href='@Url.Action("Index", "Home")'"  *@
        <button type="button" id="historiepodden">
            <img alt="" src="https://thumborcdn.acast.com/O8T3NPCLUa6uKr2y5GjQwCb25pU=/smart/filters:quality(80)/d46xrhm44izup.cloudfront.net%2Frss%2Frp%2F%3Furl%3D%2Fimg%2Fcropped%2F6445ca8d16239768.jpg" height="250" width="250" />
        </button>

        <br />
        <br />
        @*<input id="rssTextSubmitJoe" type="submit" value="Joe" />*@
        <input id="rssText" type="text" />

        <br />

        <h3 id="podName">Podnamn</h3>

        <audio id="player" controls="controls">
            @*<source id="ogg_src" src="C:\Users\johan\Desktop\Kodprojekt\Musik/TreMusketorerna.ogg" type="audio/ogg" />*@
            <source id="ogg_src" src="C:\Users\johan\Desktop\Kodprojekt\Musik/TreMusketorerna.ogg" type="audio/ogg" />
            <source id="mp3_src" src="https://media.acast.com/sportbladetsplp/avsnitt168-vagenframat/media.mp3" type="audio/mp3" />
            Your browser does not support the audio element.
        </audio>
        <br />
        <br />
        <table cellpadding="0" cellspacing="0" border="1">

            @*<th><h3>Podcast information</h3></th>*@
            @*<tr>
                    <th><b>@ViewBag.PodcastName</b></th>
                </tr>*@
            @foreach (PodcastEpisodeModel item in Model)
            {
                <tr>
                    @*<th><b>@item.PodcastName</b></th>*@

                    <td>@item.episodeTitle</td>
                    <td>@item.PublicationDate</td>
                    @*<td>@item.Description</td>*@
                </tr>
            }
        </table>

        <ul>
            @foreach (PodcastEpisodeModel pod in ViewBag.ListEpisode)
            {
                <li>@pod.episodeTitle</li>
            }
        </ul>


    </div>



</body>
</html>

<script>
                var rssValue = document.getElementById("rssText").value;
                var sport = "http://traffic.libsyn.com/revolutionspodcast/7.08-_The_Political_Question_Master.mp3?dest-id=159998";
                var joe = "http://traffic.libsyn.com/joeroganexp/p1040.mp3";

                $("#imageRev").on("click", function () {

                    var audio = $("#player");
                    //$("#ogg_src").attr("src", "C:\Users\johan\Desktop\Kodprojekt\Musik/629.ogg");
                    $("#mp3_src").attr("src", sport);
                    audio[0].pause();
                    audio[0].load();//suspends and restores all audio element
                    audio[0].oncanplaythrough = audio[0].play();
                });


                $("#imageJoe").on("click", function () {

                    alert("joe");
                @*@Html.Action("GetPodEpisodes");*@
                    @*@{Html.RenderAction("GetPodEpisodes");}*@

                var audio = $("#player");

                $("#mp3_src").attr("src", joe);
                audio[0].pause();
                audio[0].load();//suspends and restores all audio element
                audio[0].oncanplaythrough = audio[0].play();
            });

                $("#historiepodden").on("click", function () {

                    alert("tjena");
                    //$.post("Home/Index");
                    window.location.href='@Url.Action("PlayingPage","Home",new { rssFeed = "http://philosophizethis.libsyn.com/rss" })';
                    //window.location = "/Home/Index";

                    @*$.ajax({
type: "POST",
url: '@Url.Action("Index", "Home")',
data: {},
contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            alert("succe");
},
                        error: function (data) {
                            alert("");
                        }
});*@

                });



</script>
